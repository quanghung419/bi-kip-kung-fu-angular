<div class="card" [class.card-expanded]="isSelectedCard" [class.card-draft]="isDraftCard()"
     [style.transform]="'translateY('+cardModel.position+'px)'">
  <div class="card-inner">
    <div class="card-header unable-select" fxLayout="row">
      <div class="draft-icon"></div>
      <div class="card-title">
        <p class="truncate" (mouseover)="mappingMainParagraph($event)"
           (mouseout)="mappingMainParagraph($event)">{{ paragraph.rawParagraph }}</p>
      </div>
      <div class="card-actions" fxLayout="row" fxLayoutAlign="end center">
        <button matTooltip="Edit card content" matTooltipPosition="above"
                mat-icon-button class="card-header-button" (click)="changeToEditingMode()"
                disabled="{{isEditingMode}}">
          <fa name="pencil-square-o" size="1x"></fa>
        </button>
        <button matTooltip="Slide up this card" matTooltipPosition="above"
                mat-icon-button class="card-header-button" (click)="slideShowThisCard()"
                disabled="{{isNewCard}}">
          <fa name="expand" size="1x"></fa>
        </button>
        <button matTooltip="Show/hiden this card" matTooltipPosition="above"
                mat-icon-button class="card-header-button" (click)="toggleCard()" [class.collapsed]="isSelectedCard"
                disabled="{{isNewCard}}">
          <fa name="chevron-down" size="1x"></fa>
        </button>
        <button matTooltip="Delete this card" matTooltipPosition="above"
                mat-icon-button class="card-header-button" (click)="deleteCard()">
          <fa name="times" size="1x"></fa>
        </button>
      </div>
    </div>
    <div class="card-body">
      <div class="card-content">
        <app-sub-transcript [paragraph]="paragraph" [isEditingMode]="isEditingMode"
                            (onChangeContent)="onChangeContent($event)" [isNewCard]="isNewCard"></app-sub-transcript>
      </div>
      <div class="card-footer unable-select" fxLayout="row" fxLayoutAlign=" center">
        <div class="card-content-actions" fxLayout="row" fxLayoutAlign="start center" [class.visible]="isEditingMode"
             [class.invisible]="!isEditingMode">
          <span class="btn-content-action" role="button" [class.hidden]="!isNewCard" (click)="addNew()">Add</span>
          <span class="btn-content-action" role="button" (click)="saveChange()" [class.hidden]="!oldContent">Save</span>
          <span class="seperate-dot">&nbsp;â€¢&nbsp;</span>
          <span class="btn-content-action btn-latest" role="button" (click)="discardChange()">Cacel</span>
        </div>
        <div class="card-position-actions" fxLayout="row" fxLayoutAlign="end center">
          <!--<button mat-icon-button matTooltip="Move up this card" matTooltipPosition="below"-->
                  <!--fxLayout="row" fxLayoutAlign="center center">-->
            <!--<fa name="level-up"></fa>-->
          <!--</button>-->
          <!--<button mat-icon-button matTooltip="Insert card below" matTooltipPosition="below"-->
                  <!--fxLayout="row" fxLayoutAlign="center center">-->
            <!--<fa name="plus-square-o"></fa>-->
          <!--</button>-->
        </div>
      </div>
    </div>
  </div>
</div>
